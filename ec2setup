cp /etc/apt/sources.list tmp.tmp 
echo "deb http://us.archive.ubuntu.com/ubuntu/ maverick-updates multiverse" >> tmp.tmp
echo "deb-src http://us.archive.ubuntu.com/ubuntu/ maverick-updates multiverse" >>tmp.tmp
sudo cp tmp.tmp /etc/apt/sources.list
rm tmp.tmp

echo "Creating a new user, 'presheaf', you sill need to set the password (you know it)"
sudo useradd -d /home/presheaf -m presheaf
sudo passwd presheaf

export THIS="ec2-54-213-94-189.us-west-2.compute.amazonaws.com"
export GET="sudo apt-get -qy install"

sudo apt-get -qy update
$GET texlive-full
$GET rpm

mkdir download

cd download

#JDKBIN=jdk6.bin

#curl https://s3-us-west-1.amazonaws.com/vpatryshev/jdk-6u23-linux-i586.bin >$JDKBIN
#chmod 755 $JDKBIN

#sh $JDKBIN
#sudo mkdir $JDKPATH
#sudo mv $JDKFOLDER $JDKPATH

#chmod +x $JDKFILE
#sh $JDKFILE

#JDKFOLDER=`ls | grep jdk1\.`
#JDKPATH=/usr/local/java/6.23

#echo "export JAVA_HOME=$JDKPATH" >> ~/.bashrc
#echo "PATH=\$JAVA_HOME/bin:\$JAVA_HOME/jre/bin:\$PATH" >> ~/.bashrc
cd ~

## doxy.sh missing!
## doxy.sh should have a+x
## same for deploy.sh

sudo add-apt-repository ppa:webupd8team/java
sudo apt-get update
sudo apt-get install oracle-java8-installer

mkdir diagrams
chmod a+x,a+r,a+w diagrams
sudo apt-get -qy install mc

source ~ubuntu/.bashrc
java -version
$GET tomcat6-admin
$GET tomcat6-examples
$GET tomcat6
sudo mkdir /usr/share/tomcat6/logs
sudo ln -s diagrams /usr/share/tomcat6/webapps/cache
sudo apt-get install vsftpd
sudo iptables -A INPUT -i eth0 -p tcp --dport 80 -j ACCEPT
sudo iptables -A INPUT -i eth0 -p tcp --dport 8080 -j ACCEPT
sudo iptables -A PREROUTING -t nat -i eth0 -p tcp --dport 80 -j REDIRECT --to-port 8080 
sudo iptables -t nat -A OUTPUT -d $THIS -p tcp --dport 80 -j REDIRECT --to-ports 8080
sudo iptables -t nat -A PREROUTING -d $THIS -p tcp --dport 80 -j REDIRECT --to-ports 8080
ln -s /var/lib/tomcat6 tomcat
ln -s /var/log/tomcat6 tomcatlogs



